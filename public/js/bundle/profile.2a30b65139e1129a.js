/*! For license information please see profile.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8138],{16112:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var a=r(5947),n=r.n(a);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function o(r,a,n,o){var i=a&&a.prototype instanceof l?a:l,c=Object.create(i.prototype);return s(c,"_invoke",function(r,a,n){var o,i,s,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return o=t,i=0,s=e,f.n=r,u}};function m(r,a){for(i=r,s=a,t=0;!d&&l&&!n&&t<c.length;t++){var n,o=c[t],m=f.p,p=o[2];r>3?(n=p===a)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((n=r<2&&m<o[1])?(i=0,f.v=a,f.n=o[1]):m<p&&(n=r<3||o[0]>a||a>p)&&(o[4]=r,o[5]=a,f.n=p,i=0))}if(n||r>1)return u;throw d=!0,a}return function(n,c,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&m(c,p),i=c,s=p;(t=i<2?e:s)||!d;){o||(i?i<3?(i>1&&(f.n=-1),m(i,s)):f.n=s:f.v=s);try{if(l=2,o){if(i||(n="next"),t=o[n]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=e}else if((t=(d=f.n<0)?s:r.call(a,f))!==u)break}catch(t){o=e,i=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,n,o),!0),c}var u={};function l(){}function c(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(s(t={},a,function(){return this}),t),m=d.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,n,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=d,s(m,"constructor",d),s(d,"constructor",c),c.displayName="GeneratorFunction",s(d,n,"GeneratorFunction"),s(m),s(m,n,"Generator"),s(m,a,function(){return this}),s(m,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:p}})()}function s(e,t,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}s=function(e,t,r,a){function o(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},s(e,t,r,a)}function u(e,t,r,a,n,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(a,n)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d={metaInfo:{title:"Profile"},data:function(){return{data:new FormData,avatar:"",username:"",isLoading:!0,user:{id:"",firstname:"",lastname:"",username:"",NewPassword:null,email:"",phone:"",avatar:""}}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},(0,r(95353).L8)(["currentUser"])),methods:{Submit_Profile:function(){var e=this;this.$refs.Update_Profile.validate().then(function(t){t?e.Update_Profile():e.makeToast("danger",e.$t("Please_fill_the_form_correctly"),e.$t("Failed"))})},makeToast:function(e,t,r){this.$root.$bvToast.toast(t,{title:r,variant:e,solid:!0})},getValidationState:function(e){var t=e.dirty,r=e.validated,a=e.valid;return t||r?void 0===a?null:a:null},Get_Profile_Info:function(){var e=this;axios.get("Get_user_profile").then(function(t){e.user=t.data.user,e.avatar=e.currentUser.avatar,e.username=e.currentUser.username,e.isLoading=!1}).catch(function(t){e.isLoading=!1})},onFileSelected:function(e){var t,r=this;return(t=i().m(function t(){var a,n;return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r.$refs.Avatar.validate(e);case 1:a=t.v,n=a.valid,r.user.avatar=n?e.target.files[0]:"";case 2:return t.a(2)}},t)}),function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(e){u(o,a,n,i,s,"next",e)}function s(e){u(o,a,n,i,s,"throw",e)}i(void 0)})})()},Update_Profile:function(){var e=this;n().start(),n().set(.1);var t=this;t.data.append("firstname",t.user.firstname),t.data.append("lastname",t.user.lastname),t.data.append("username",t.user.username),t.data.append("email",t.user.email),t.data.append("NewPassword",t.user.NewPassword),t.data.append("phone",t.user.phone),t.data.append("avatar",t.user.avatar),t.data.append("_method","put"),axios.post("update_user_profile/"+t.user.id,t.data).then(function(t){e.makeToast("success",e.$t("Successfully_Updated"),e.$t("Success")),n().done(),setTimeout(function(){e.Get_Profile_Info()},500)}).catch(function(e){n().done()})}},created:function(){this.Get_Profile_Info()}};var f=r(85072),m=r.n(f),p=r(94959),v={insert:"head",singleton:!1};m()(p.A,v);p.A.locals;const b=(0,r(14486).A)(d,function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-content"},[t("breadcumb",{attrs:{page:e.$t("profil"),folder:e.$t("Settings")}}),e._v(" "),e.isLoading?t("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e._e(),e._v(" "),e.isLoading?e._e():t("div",{staticClass:"card user-profile mb-30"},[t("div",{staticClass:"header-cover"}),e._v(" "),t("div",{staticClass:"user-info"},[t("img",{staticClass:"profile-picture avatar-lg mb-2",attrs:{src:"/images/avatar/"+e.avatar,alt:""}}),e._v(" "),t("p",{staticClass:"m-0 text-24"},[e._v(e._s(e.username))])]),e._v(" "),t("div",{staticClass:"card-body"},[t("validation-observer",{ref:"Update_Profile"},[t("b-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.Submit_Profile.apply(null,arguments)}}},[t("b-row",[t("b-col",{attrs:{md:"6",sm:"12"}},[t("validation-provider",{attrs:{name:"Firstname",rules:{required:!0,min:4,max:20}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",{attrs:{label:e.$t("Firstname")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(r),"aria-describedby":"Firstname-feedback",label:"Firstname"},model:{value:e.user.firstname,callback:function(t){e.$set(e.user,"firstname",t)},expression:"user.firstname"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Firstname-feedback"}},[e._v(e._s(r.errors[0]))])],1)]}}],null,!1,2648461320)})],1),e._v(" "),t("b-col",{attrs:{md:"6",sm:"12"}},[t("validation-provider",{attrs:{name:"lastname",rules:{required:!0,min:4,max:20}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",{attrs:{label:e.$t("lastname")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(r),"aria-describedby":"lastname-feedback",label:"lastname"},model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname",t)},expression:"user.lastname"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"lastname-feedback"}},[e._v(e._s(r.errors[0]))])],1)]}}],null,!1,3016559224)})],1),e._v(" "),t("b-col",{attrs:{md:"6",sm:"12"}},[t("validation-provider",{attrs:{name:"username",rules:{required:!0,min:4,max:20}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",{attrs:{label:e.$t("username")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(r),"aria-describedby":"username-feedback",label:"username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"username-feedback"}},[e._v(e._s(r.errors[0]))])],1)]}}],null,!1,2089383363)})],1),e._v(" "),t("b-col",{attrs:{md:"6",sm:"12"}},[t("validation-provider",{attrs:{name:"Phone",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",{attrs:{label:e.$t("Phone")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(r),"aria-describedby":"Phone-feedback",label:"Phone"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Phone-feedback"}},[e._v(e._s(r.errors[0]))])],1)]}}],null,!1,2094202729)})],1),e._v(" "),t("b-col",{attrs:{md:"6",sm:"12"}},[t("validation-provider",{attrs:{name:"Email",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",{attrs:{label:e.$t("Email")+" *"}},[t("b-form-input",{attrs:{state:e.getValidationState(r),"aria-describedby":"Email-feedback",label:"Email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Email-feedback"}},[e._v(e._s(r.errors[0]))])],1)]}}],null,!1,2639721465)})],1),e._v(" "),t("b-col",{attrs:{md:"6",sm:"12"}},[t("validation-provider",{ref:"Avatar",attrs:{name:"Avatar",rules:"mimes:image/*|size:200"},scopedSlots:e._u([{key:"default",fn:function(r){r.validate;var a=r.valid,n=r.errors;return t("b-form-group",{attrs:{label:e.$t("UserImage")}},[t("input",{class:{"is-invalid":!!n.length},attrs:{state:!n[0]&&(!!a||null),label:"Choose Avatar",type:"file"},on:{change:e.onFileSelected}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Avatar-feedback"}},[e._v(e._s(n[0]))])],1)}}],null,!1,2117094513)})],1),e._v(" "),t("b-col",{attrs:{md:"6"}},[t("validation-provider",{attrs:{name:"New password",rules:{min:6,max:14}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",{attrs:{label:e.$t("Newpassword")}},[t("b-form-input",{attrs:{state:e.getValidationState(r),"aria-describedby":"Nawpassword-feedback",placeholder:e.$t("LeaveBlank"),label:"New password"},model:{value:e.user.NewPassword,callback:function(t){e.$set(e.user,"NewPassword",t)},expression:"user.NewPassword"}}),e._v(" "),t("b-form-invalid-feedback",{attrs:{id:"Nawpassword-feedback"}},[e._v(e._s(r.errors[0]))])],1)]}}],null,!1,1010016937)})],1),e._v(" "),t("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[t("b-button",{attrs:{variant:"primary",type:"submit"}},[t("i",{staticClass:"i-Yes me-2 font-weight-bold"}),e._v(" "+e._s(e.$t("submit")))])],1)],1)],1)],1)],1)])],1)},[],!1,null,"07d5b961",null).exports},76314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r}).join("")},t.i=function(e,r,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);a&&n[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},85072:(e,t,r)=>{var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function s(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function u(e,t){for(var r={},a=[],n=0;n<e.length;n++){var o=e[n],u=t.base?o[0]+t.base:o[0],l=r[u]||0,c="".concat(u," ").concat(l);r[u]=l+1;var d=s(c),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:c,updater:b(f,t),references:1}),a.push(c)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var n=r.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach(function(e){t.setAttribute(e,a[e])}),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,r,a){var n=r?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,n);else{var o=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function m(e,t,r){var a=r.css,n=r.media,o=r.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var p=null,v=0;function b(e,t){var r,a,n;if(t.singleton){var o=v++;r=p||(p=l(t)),a=f.bind(null,r,o,!1),n=f.bind(null,r,o,!0)}else r=l(t),a=m.bind(null,r,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var r=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<r.length;a++){var n=s(r[a]);i[n].references--}for(var o=u(e,t),l=0;l<r.length;l++){var c=s(r[l]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}r=o}}}},94959:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(76314),n=r.n(a)()(function(e){return e[1]});n.push([e.id,".card.o-hidden[data-v-07d5b961]{min-width:130px}",""]);const o=n}}]);
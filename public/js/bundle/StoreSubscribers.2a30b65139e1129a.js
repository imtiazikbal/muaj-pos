/*! For license information please see StoreSubscribers.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8315],{9478:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});function n(){var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,a,i){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return o(u,"_invoke",function(r,n,o){var a,i,s,l=0,u=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,i=0,s=e,p.n=r,c}};function d(r,n){for(i=r,s=n,t=0;!f&&l&&!o&&t<u.length;t++){var o,a=u[t],d=p.p,v=a[2];r>3?(o=v===n)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(i=0,p.v=n,p.n=a[1]):d<v&&(o=r<3||a[0]>n||n>v)&&(a[4]=r,a[5]=n,p.n=v,i=0))}if(o||r>1)return c;throw f=!0,n}return function(o,u,v){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,v),i=u,s=v;(t=i<2?e:s)||!f;){a||(i?i<3?(i>1&&(p.n=-1),d(i,s)):p.n=s:p.v=s);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=p.n<0)?s:r.call(n,p))!==c)break}catch(t){a=e,i=1,s=t}finally{l=1}}return{value:t,done:f}}}(r,a,i),!0),u}var c={};function l(){}function u(){}function f(){}t=Object.getPrototypeOf;var p=[][a]?t(t([][a]())):(o(t={},a,function(){return this}),t),d=f.prototype=l.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=f,o(d,"constructor",f),o(f,"constructor",u),u.displayName="GeneratorFunction",o(f,i,"GeneratorFunction"),o(d),o(d,i,"Generator"),o(d,a,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),(n=function(){return{w:s,m:v}})()}function o(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,t,r,n){function i(t,r){o(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},o(e,t,r,n)}function a(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}const i={metaInfo:{title:"Store Subscribers"},data:function(){return{isLoading:!0,rows:[],totalRows:0,columns:[{label:this.$t("Email"),field:"email",sortable:!0},{label:this.$t("Subscribed At"),field:"created_at",sortable:!0},{label:this.$t("Actions"),field:"actions"}],serverParams:{page:1,perPage:10,sort:[{field:"created_at",type:"desc"}]}}},mounted:function(){this.fetch()},methods:{fetch:function(){var e,t=this;return(e=n().m(function e(){var r,o,a,i,s;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,e.p=1,e.n=2,axios.get("/store/subscribers",{params:{page:t.serverParams.page,per_page:t.serverParams.perPage,sort:t.serverParams.sort&&(null===(r=t.serverParams.sort[0])||void 0===r?void 0:r.field),dir:t.serverParams.sort&&(null===(o=t.serverParams.sort[0])||void 0===o?void 0:o.type)}});case 2:i=e.v,s=i.data,t.rows=s.data||[],t.totalRows=(null===(a=s.meta)||void 0===a?void 0:a.total)||t.rows.length;case 3:return e.p=3,t.isLoading=!1,e.f(3);case 4:return e.a(2)}},e,null,[[1,,3,4]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,c,"next",e)}function c(e){a(i,n,o,s,c,"throw",e)}s(void 0)})})()},onPageChange:function(e){var t=e.currentPage;this.serverParams.page=t,this.fetch()},onPerPageChange:function(e){var t=e.currentPerPage;this.serverParams.perPage=t,this.fetch()},onSortChange:function(e){this.serverParams.sort=e[0]?[e[0]]:[],this.fetch()},remove:function(e){var t=this;t.$swal({title:t.$t("Delete_Title"),text:t.$t("Delete_Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:t.$t("Delete_cancelButtonText"),confirmButtonText:t.$t("Delete_confirmButtonText")}).then(function(r){!(!r||!0!==r.value&&!0!==r.isConfirmed)&&axios.delete("/store/subscribers/"+e).then(function(){t.$swal(t.$t("Delete_Deleted"),t.$t("Deleted_in_successfully"),"success"),t.fetch()}).catch(function(){t.$swal(t.$t("Delete_Failed"),t.$t("Delete_Therewassomethingwronge"),"warning")})})}}};const s=(0,r(14486).A)(i,function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-content"},[t("breadcumb",{attrs:{page:e.$t("Subscribers"),folder:e.$t("Store")}}),e._v(" "),e.isLoading?t("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t("b-card",{staticClass:"wrapper"},[t("vue-good-table",{attrs:{mode:"remote",columns:e.columns,totalRows:e.totalRows,rows:e.rows,"pagination-options":{enabled:!0,perPage:e.serverParams.perPage},"search-options":{enabled:!1},styleClass:"table-hover tableOne vgt-table"},on:{"on-page-change":e.onPageChange,"on-per-page-change":e.onPerPageChange,"on-sort-change":e.onSortChange},scopedSlots:e._u([{key:"table-row",fn:function(r){return["actions"===r.column.field?t("span",[t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{title:e.$t("Delete")},on:{click:function(t){return e.remove(r.row.id)}}},[t("i",{staticClass:"i-Close-Window text-20 text-danger"})])]):t("span",[e._v(e._s(r.formattedRow[r.column.field]))])]}}])})],1)],1)},[],!1,null,null,null).exports}}]);
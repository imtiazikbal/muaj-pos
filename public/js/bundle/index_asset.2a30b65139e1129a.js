/*! For license information please see index_asset.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4940],{36215:(t,e,r)=>{r.r(e),r.d(e,{default:()=>c});function n(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,a,o){var i=n&&n.prototype instanceof u?n:u,l=Object.create(i.prototype);return s(l,"_invoke",function(r,n,s){var a,o,i,u=0,l=s||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,o=0,i=t,p.n=r,c}};function d(r,n){for(o=r,i=n,e=0;!f&&u&&!s&&e<l.length;e++){var s,a=l[e],d=p.p,h=a[2];r>3?(s=h===n)&&(i=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=d&&((s=r<2&&d<a[1])?(o=0,p.v=n,p.n=a[1]):d<h&&(s=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,p.n=h,o=0))}if(s||r>1)return c;throw f=!0,n}return function(s,l,h){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,h),o=l,i=h;(e=o<2?t:i)||!f;){a||(o?o<3?(o>1&&(p.n=-1),d(o,i)):p.n=i:p.v=i);try{if(u=2,a){if(o||(s="next"),e=a[s]){if(!(e=e.call(a,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,o<2&&(o=0)}else 1===o&&(e=a.return)&&e.call(a),o<2&&(i=TypeError("The iterator does not provide a '"+s+"' method"),o=1);a=t}else if((e=(f=p.n<0)?i:r.call(n,p))!==c)break}catch(e){a=t,o=1,i=e}finally{u=1}}return{value:e,done:f}}}(r,a,o),!0),l}var c={};function u(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][a]?e(e([][a]())):(s(e={},a,function(){return this}),e),d=f.prototype=u.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,s(d,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(d),s(d,o,"Generator"),s(d,a,function(){return this}),s(d,"toString",function(){return"[object Generator]"}),(n=function(){return{w:i,m:h}})()}function s(t,e,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}s=function(t,e,r,n){function o(e,r){s(t,e,function(t){return this._invoke(e,r,t)})}e?a?a(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},s(t,e,r,n)}function a(t,e,r,n,s,a,o){try{var i=t[a](o),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,s)}function o(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var o=t.apply(e,r);function i(t){a(o,n,s,i,c,"next",t)}function c(t){a(o,n,s,i,c,"throw",t)}i(void 0)})}}const i={name:"AssetsIndex",data:function(){return{isLoading:!0,assets:[],totalRows:0,serverParams:{columnFilters:{},sort:{field:"id",type:"desc"},page:1,perPage:10,searchTerm:""},columns:[{label:this.$t("Tag"),field:"tag"},{label:this.$t("Name"),field:"name"},{label:this.$t("Category"),field:"asset_category_name"},{label:this.$t("Serial"),field:"serial_number"},{label:this.$t("Status"),field:"status"},{label:this.$t("Warehouse"),field:"warehouse_name"},{label:this.$t("Actions"),field:"actions",sortable:!1}]}},mounted:function(){this.getAssets()},methods:{getAssets:function(){var t=this;return o(n().m(function e(){var r,s,a;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,r={page:t.serverParams.page,limit:t.serverParams.perPage,SortField:t.serverParams.sort.field,SortType:t.serverParams.sort.type,search:t.serverParams.searchTerm},e.p=1,e.n=2,axios.get("assets",{params:r});case 2:s=e.v,a=s.data,t.assets=a.assets,t.totalRows=a.totalRows;case 3:return e.p=3,t.isLoading=!1,e.f(3);case 4:return e.a(2)}},e,null,[[1,,3,4]])}))()},onPageChange:function(t){var e=t.currentPage;this.serverParams.page=e,this.getAssets()},onPerPageChange:function(t){var e=t.currentPerPage;this.serverParams.perPage=e,this.getAssets()},onSortChange:function(t){this.serverParams.sort.field=t[0].field,this.serverParams.sort.type=t[0].type,this.getAssets()},onSearch:function(t){this.serverParams.searchTerm=t.searchTerm,this.getAssets()},removeAsset:function(t){var e=this;return o(n().m(function r(){return n().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,e.$bvModal.msgBoxConfirm(e.$t("AreYouSure"),{size:"sm"});case 1:if(r.v){r.n=2;break}return r.a(2);case 2:return r.n=3,axios.delete("assets/".concat(t));case 3:e.getAssets();case 4:return r.a(2)}},r)}))()}}};const c=(0,r(14486).A)(i,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Assets_List"),folder:t.$t("Assets")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e("div",{staticClass:"page-wrapper"},[e("div",{staticClass:"control-bar"},[e("div",{staticClass:"control-right"},[e("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:"/app/assets/store"}},[e("i",{staticClass:"i-Add mr-1"}),t._v(t._s(t.$t("Add"))+"\n        ")])],1)]),t._v(" "),e("div",{staticClass:"table-card"},[e("vue-good-table",{attrs:{mode:"remote",columns:t.columns,totalRows:t.totalRows,rows:t.assets,"search-options":{enabled:!0,placeholder:t.$t("Search_this_table")},"pagination-options":{enabled:!0,mode:"records"},styleClass:"tableOne vgt-table"},on:{"on-page-change":t.onPageChange,"on-per-page-change":t.onPerPageChange,"on-sort-change":t.onSortChange,"on-search":t.onSearch},scopedSlots:t._u([{key:"table-row",fn:function(r){return["actions"==r.column.field?e("span",[e("router-link",{staticClass:"btn btn-sm btn-outline-primary mr-2",attrs:{to:"/app/assets/edit/"+r.row.id}},[e("i",{staticClass:"i-Edit"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(e){return t.removeAsset(r.row.id)}}},[e("i",{staticClass:"i-Close-Window"})])],1):t._e()]}}])})],1)])],1)},[],!1,null,null,null).exports}}]);
/*! For license information please see accounting_v2_chart_of_accounts.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7657],{24781:(t,e,n)=>{n.d(e,{A:()=>r});var a=n(76314),o=n.n(a)()(function(t){return t[1]});o.push([t.id,".sortable[data-v-7b067908]{cursor:pointer}.modal[data-v-7b067908]{background:rgba(0,0,0,.35)}",""]);const r=o},76314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n}).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(a)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);a&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},82821:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var a=n(5947),o=n.n(a);function r(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function s(n,a,o,r){var s=a&&a.prototype instanceof l?a:l,u=Object.create(s.prototype);return i(u,"_invoke",function(n,a,o){var r,i,s,l=0,u=o||[],d=!1,v={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,i=0,s=t,v.n=n,c}};function f(n,a){for(i=n,s=a,e=0;!d&&l&&!o&&e<u.length;e++){var o,r=u[e],f=v.p,m=r[2];n>3?(o=m===a)&&(s=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=t):r[0]<=f&&((o=n<2&&f<r[1])?(i=0,v.v=a,v.n=r[1]):f<m&&(o=n<3||r[0]>a||a>m)&&(r[4]=n,r[5]=a,v.n=m,i=0))}if(o||n>1)return c;throw d=!0,a}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,m),i=u,s=m;(e=i<2?t:s)||!d;){r||(i?i<3?(i>1&&(v.n=-1),f(i,s)):v.n=s:v.v=s);try{if(l=2,r){if(i||(o="next"),e=r[o]){if(!(e=e.call(r,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=r.return)&&e.call(r),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);r=t}else if((e=(d=v.n<0)?s:n.call(a,v))!==c)break}catch(e){r=t,i=1,s=e}finally{l=1}}return{value:e,done:d}}}(n,o,r),!0),u}var c={};function l(){}function u(){}function d(){}e=Object.getPrototypeOf;var v=[][a]?e(e([][a]())):(i(e={},a,function(){return this}),e),f=d.prototype=l.prototype=Object.create(v);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,o,"GeneratorFunction"),i(f),i(f,o,"Generator"),i(f,a,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(r=function(){return{w:s,m}})()}function i(t,e,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,a){function r(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(r("next",0),r("throw",1),r("return",2))},i(t,e,n,a)}function s(t,e,n,a,o,r,i){try{var s=t[r](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,o)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(a,o){var r=t.apply(e,n);function i(t){s(r,a,o,i,c,"next",t)}function c(t){s(r,a,o,i,c,"throw",t)}i(void 0)})}}const l={name:"ChartOfAccountsV2",data:function(){return{isLoading:!0,rows:[],totalRows:"",serverParams:{columnFilters:{},sort:{field:"code",type:"asc"},page:1,perPage:10},search:"",limit:"10",showModal:!1,editing:!1,form:{id:null,code:"",name:"",type:"",parent_id:null,is_active:1},confirmOpen:!1,toDelete:null,btnLoading:!1}},computed:{columns:function(){return[{label:this.$t("Code"),field:"code",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Name"),field:"name",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Parent"),field:"parent",sortable:!1,tdClass:"text-left",thClass:"text-left"},{label:this.$t("Type"),field:"type",tdClass:"text-left",thClass:"text-left"},{label:this.$t("Active"),field:"active",sortable:!1,tdClass:"text-center",thClass:"text-center"},{label:this.$t("Action"),field:"actions",sortable:!1,tdClass:"text-right",thClass:"text-right"}]},canSave:function(){return this.form.code&&this.form.name&&this.form.type}},created:function(){this.Get_Coa(1)},methods:{updateParams:function(t){this.serverParams=Object.assign({},this.serverParams,t)},onPageChange:function(t){var e=t.currentPage;this.serverParams.page!==e&&(this.updateParams({page:e}),this.Get_Coa(e))},onPerPageChange:function(t){var e=t.currentPerPage;this.limit!==e&&(this.limit=e,this.updateParams({page:1,perPage:e}),this.Get_Coa(1))},onSortChange:function(t){t&&t.length&&(this.updateParams({sort:{type:t[0].type,field:t[0].field}}),this.Get_Coa(this.serverParams.page))},onSearch:function(t){this.search=t.searchTerm,this.Get_Coa(this.serverParams.page)},Get_Coa:function(t){var e=this;return c(r().m(function n(){return r().w(function(n){for(;;)switch(n.n){case 0:o().start(),o().set(.1),axios.get("/accounting/v2/coa?page="+t+"&SortField="+e.serverParams.sort.field+"&SortType="+e.serverParams.sort.type+"&search="+e.search+"&limit="+e.limit).then(function(t){var n,a=t.data;e.rows=a&&a.data?a.data:[],e.totalRows=a&&(null!==(n=a.totalRows)&&void 0!==n?n:0),o().done(),e.isLoading=!1}).catch(function(){o().done(),e.isLoading=!1});case 1:return n.a(2)}},n)}))()},parentName:function(t){if(!t)return this.$t("None");var e=this.rows.find(function(e){return e.id===t});return e?e.code+" — "+e.name:"-"},openCreate:function(){this.editing=!1,this.form={id:null,code:"",name:"",type:"",parent_id:null,is_active:1},this.btnLoading=!1,this.showModal=!0},openEdit:function(t){this.editing=!0,this.form={id:t.id,code:t.code,name:t.name,type:t.type,parent_id:t.parent_id,is_active:t.is_active?1:0},this.btnLoading=!1,this.showModal=!0},closeModal:function(){this.btnLoading=!1,this.showModal=!1},save:function(){var t=this;return c(r().m(function e(){return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t.btnLoading=!0,!t.editing){e.n=2;break}return e.n=1,axios.put("/accounting/v2/coa/".concat(t.form.id),t.form);case 1:t.makeToast("success",t.$t("Account_Updated"),t.$t("Success")),e.n=4;break;case 2:return e.n=3,axios.post("/accounting/v2/coa",t.form);case 3:t.makeToast("success",t.$t("Account_Created"),t.$t("Success"));case 4:t.showModal=!1,t.Get_Coa(t.serverParams.page),e.n=6;break;case 5:e.p=5,e.v,t.makeToast("danger",t.$t("Operation_Failed"),t.$t("Error"));case 6:return e.p=6,t.btnLoading=!1,e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}))()},confirmRemove:function(t){var e=this;this.$swal({title:this.$t("Delete"),text:this.$t("Delete_Account_Warning"),type:"warning",showCancelButton:!0,confirmButtonText:this.$t("Delete")}).then(function(n){n.value&&e.removeRow(t)})},removeRow:function(t){var e=this;return c(r().m(function n(){return r().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,axios.delete("/accounting/v2/coa/".concat(t.id));case 1:e.makeToast("success",e.$t("Deleted_Successfully"),e.$t("Success")),e.Get_Coa(e.serverParams.page),n.n=3;break;case 2:n.p=2,n.v,e.makeToast("danger",e.$t("Delete_Failed"),e.$t("Error"));case 3:return n.a(2)}},n,null,[[0,2]])}))()},makeToast:function(t,e,n){this.$root.$bvToast.toast(e,{title:n,variant:t,solid:!0})}}};var u=n(85072),d=n.n(u),v=n(24781),f={insert:"head",singleton:!1};d()(v.A,f);v.A.locals;const m=(0,n(14486).A)(l,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("div",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[e("div",[e("h4",{staticClass:"mb-1"},[t._v(t._s(t.$t("Chart_of_Accounts_Title")))]),t._v(" "),e("div",{staticClass:"text-muted small"},[t._v(t._s(t.$t("Chart_of_Accounts_Subtitle")))])])]),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("div",{staticClass:"card wrapper"},[e("vue-good-table",{attrs:{mode:"remote",columns:t.columns,totalRows:t.totalRows,rows:t.rows,"search-options":{enabled:!0,placeholder:t.$t("Search_this_table")},"pagination-options":{enabled:!0,mode:"records",nextLabel:t.$t("Next"),prevLabel:t.$t("Prev")},styleClass:"table-hover tableOne vgt-table"},on:{"on-page-change":t.onPageChange,"on-per-page-change":t.onPerPageChange,"on-sort-change":t.onSortChange,"on-search":t.onSearch},scopedSlots:t._u([{key:"table-row",fn:function(n){return["parent"==n.column.field?e("span",[t._v(t._s(t.parentName(n.row.parent_id)))]):"active"==n.column.field?e("span",[e("span",{staticClass:"badge",class:n.row.is_active?"badge-success":"badge-secondary"},[t._v(t._s(n.row.is_active?t.$t("Yes"):t.$t("No")))])]):"actions"==n.column.field?e("span",[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("Edit")},on:{click:function(e){return t.openEdit(n.row)}}},[e("i",{staticClass:"i-Edit text-25 text-success cursor-pointer"})]),t._v(" "),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("Delete")},on:{click:function(e){return t.confirmRemove(n.row)}}},[e("i",{staticClass:"i-Close-Window text-25 text-danger cursor-pointer"})])]):t._e()]}}],null,!1,3071147336)},[e("div",{staticClass:"mt-2 mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[e("b-button",{staticClass:"btn-rounded",attrs:{variant:"btn btn-primary btn-icon m-1"},on:{click:function(e){return t.openCreate()}}},[e("i",{staticClass:"i-Add"}),t._v("\n          "+t._s(t.$t("Add"))+"\n        ")])],1)])],1),t._v(" "),e("div",{staticClass:"modal fade",class:{show:t.showModal},style:{display:t.showModal?"block":"none"},attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.editing?t.$t("Edit_Account"):t.$t("New_Account")))]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closeModal}},[e("span",[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Code")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.code,expression:"form.code",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{placeholder:t.$t("Example_Code")},domProps:{value:t.form.code},on:{input:function(e){e.target.composing||t.$set(t.form,"code",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.name,expression:"form.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{placeholder:t.$t("Example_Name")},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v(t._s(t.$t("Type")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"type",e.target.multiple?n:n[0])}}},[e("option",{attrs:{disabled:"",value:""}},[t._v(t._s(t.$t("Select_Type")))]),t._v(" "),e("option",{attrs:{value:"asset"}},[t._v(t._s(t.$t("Asset")))]),t._v(" "),e("option",{attrs:{value:"liability"}},[t._v(t._s(t.$t("Liability")))]),t._v(" "),e("option",{attrs:{value:"equity"}},[t._v(t._s(t.$t("Equity")))]),t._v(" "),e("option",{attrs:{value:"income"}},[t._v(t._s(t.$t("Income")))]),t._v(" "),e("option",{attrs:{value:"expense"}},[t._v(t._s(t.$t("Expense")))])])]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v(t._s(t.$t("Parent")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.parent_id,expression:"form.parent_id"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"parent_id",e.target.multiple?n:n[0])}}},[e("option",{domProps:{value:null}},[t._v(t._s(t.$t("None")))]),t._v(" "),t._l(t.rows,function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v(t._s(n.code)+" — "+t._s(n.name))])})],2)])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Status")))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model.number",value:t.form.is_active,expression:"form.is_active",modifiers:{number:!0}}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var n="_value"in e?e._value:e.value;return t._n(n)});t.$set(t.form,"is_active",e.target.multiple?n:n[0])}}},[e("option",{domProps:{value:1}},[t._v(t._s(t.$t("Active")))]),t._v(" "),e("option",{domProps:{value:0}},[t._v(t._s(t.$t("Inactive")))])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.closeModal}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.btnLoading||!t.canSave},on:{click:t.save}},[t.btnLoading?e("span",{staticClass:"spinner-border spinner-border-sm mr-2"}):t._e(),t._v(" "),e("span",[t._v(t._s(t.btnLoading?t.$t("Saving"):t.$t("Save")))])])])])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{show:t.confirmOpen},style:{display:t.confirmOpen?"block":"none"},attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Delete_Account_Title")))]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.confirmOpen=!1}}},[e("span",[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",{staticClass:"mb-0"},[t._v("\n            "+t._s(t.$t("Delete_Account_Question"))+"\n            "),e("strong",[t._v(t._s(t.toDelete?"".concat(t.toDelete.code," — ").concat(t.toDelete.name):""))]),t._v("?\n          ")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.confirmOpen=!1}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.remove()}}},[t._v(t._s(t.$t("Delete")))])])])])])])},[],!1,null,"7b067908",null).exports},85072:(t,e,n)=>{var a,o=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},a=[],o=0;o<t.length;o++){var r=t[o],c=e.base?r[0]+e.base:r[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),v={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(i[d].references++,i[d].updater(v)):i.push({identifier:u,updater:h(v,e),references:1}),a.push(u)}return a}function l(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach(function(t){e.setAttribute(t,a[t])}),"function"==typeof t.insert)t.insert(e);else{var i=r(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function v(t,e,n,a){var o=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var r=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function f(t,e,n){var a=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var m=null,p=0;function h(t,e){var n,a,o;if(e.singleton){var r=p++;n=m||(m=l(e)),a=v.bind(null,n,r,!1),o=v.bind(null,n,r,!0)}else n=l(e),a=f.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<n.length;a++){var o=s(n[a]);i[o].references--}for(var r=c(t,e),l=0;l<n.length;l++){var u=s(n[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=r}}}}}]);
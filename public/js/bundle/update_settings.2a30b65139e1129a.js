"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9572],{45764:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(5947),n=a.n(s);const i={metaInfo:{title:"Update Settings"},data:function(){return{isLoading:!0,SubmitProcessing:!1,version:"",preflightLoading:!1,preflight:null,canUpdate:!1,updating:!1,updatePercent:0,updateStep:"idle",progressTimer:null}},methods:{Update_system:function(){var t=this,e=this;e.SubmitProcessing=!0,e.updating=!0,e.updatePercent=0,e.updateStep="starting",this.startProgressPolling(),n().start(),n().set(.1),axios.post("one_click_update").then(function(a){e.SubmitProcessing=!1,e.updating=!1,e.stopProgressPolling(),n().done(),t.makeToast("success",t.$t("Successfully_Updated"),t.$t("Success")),Fire.$emit("Event_update")}).catch(function(a){e.SubmitProcessing=!1,e.updating=!1,e.stopProgressPolling(),n().done(),a&&a.response&&400==a.response.status?t.makeToast("danger",a.response.data.message||t.$t("InvalidData"),t.$t("Failed")):t.makeToast("danger",a&&a.response&&a.response.data&&a.response.data.message||t.$t("InvalidData"),t.$t("Failed"))})},makeToast:function(t,e,a){this.$root.$bvToast.toast(e,{title:a,variant:t,solid:!0})},get_version_info:function(){var t=this;axios.get("get_version_info").then(function(e){t.version=e.data,t.isLoading=!1}).catch(function(e){setTimeout(function(){t.isLoading=!1},500)})},run_preflight:function(){var t=this;this.preflightLoading=!0,axios.get("update/preflight").then(function(e){t.preflight=e.data,t.canUpdate=!(!e.data||!e.data.ok)}).catch(function(){t.preflight=null,t.canUpdate=!1}).finally(function(){t.preflightLoading=!1})},startProgressPolling:function(){var t=this;this.progressTimer||(this.progressTimer=setInterval(function(){axios.get("update/progress").then(function(e){e&&e.data&&(t.updatePercent=e.data.percent||0,t.updateStep=e.data.step||"running",t.updatePercent>=100&&t.stopProgressPolling())}).catch(function(){})},1e3))},stopProgressPolling:function(){this.progressTimer&&(clearInterval(this.progressTimer),this.progressTimer=null)}},created:function(){var t=this;this.get_version_info(),this.run_preflight(),Fire.$on("Event_update",function(){t.get_version_info()})}};const o=(0,a(14486).A)(i,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("update_settings"),folder:t.$t("Settings")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("span",[t._v(t._s(t.$t("Update_Log")))])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.$t("Note_update")))]),t._v(" "),e("b-tabs",{attrs:{"active-nav-item-class":"nav nav-tabs","content-class":"mt-3"}},[e("b-tab",{attrs:{title:t.$t("Manual_Update")}},[e("div",{staticClass:"col-md-12 mt-3"},[e("h5",[t._v("Please follow these steps, To Update your application")]),t._v(" "),e("div",{staticClass:"allert alert-danger"},[t._v("Note 1: If you have made any changes in the code manually then your changes will be lost.")]),t._v(" "),e("div",{staticClass:"allert alert-danger"},[t._v('Note 2: only admin or user who has permission "system_setting" he can upgrade the system')]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Step 1 : ")]),t._v("Take back up of your database,  Go to "),e("a",{attrs:{href:"/app/settings/Backup"}},[t._v("Backup")]),t._v(" Click on Generate Backup ,\n                            You will find it in "),e("strong",[t._v("/storage/app/public/backup")]),t._v("  and save it to your pc To restore it if there is an error ,\n                            or Go to your PhpMyAdmin and export your database then and save it to your pc To restore it if there is an error\n                          ")]),t._v(" "),e("li",[e("strong",[t._v("Step 2 : ")]),t._v(" Take back up of your files before updating.\n                          ")]),t._v(" "),e("li",[e("strong",[t._v("Step 3 : ")]),t._v("  Download the latest version from your codecanyon and Extract it .\n                          ")]),t._v(" "),e("li",[e("strong",[t._v("Step 4 : ")]),t._v("  Make sure to remove the previous files , "),e("strong",[t._v("except")]),t._v(" the following :\n                            "),e("ul",[e("li",[t._v("file   : "),e("strong",[t._v(".env")])]),t._v(" "),e("li",[t._v("Folder : "),e("strong",[t._v("storage")])]),t._v(" "),e("li",[t._v("Folder : "),e("strong",[t._v("images folder in public : /public/images")])])])]),t._v(" "),e("li",[e("strong",[t._v("Step 5 : ")]),t._v(" Re-upload the files and folders from the new update , "),e("strong",[t._v("except")]),t._v(" the following :\n                            "),e("ul",[e("li",[t._v("file   : "),e("strong",[t._v(".env")])]),t._v(" "),e("li",[t._v("Folder : "),e("strong",[t._v("storage")])]),t._v(" "),e("li",[t._v("Folder : "),e("strong",[t._v("images folder in public : /public/images")])])])]),t._v(" "),e("li",[e("strong",[t._v("Step 6 : ")]),t._v("Visit  http://your_app/update to update your database\n                          ")]),t._v(" "),e("li",[e("strong",[t._v("Step 7 : ")]),t._v(" Hard Clear your cache browser\n                          ")]),t._v(" "),e("li",[e("strong",[t._v("Step 8 : ")]),t._v(" You are done! Enjoy the updated application\n                          ")])]),t._v(" "),e("div",{staticClass:"allert alert-danger"},[t._v("Note: If any pages are not loading or blank, make sure you cleared your browser cache.")])])])],1)],1)])])],1)},[],!1,null,null,null).exports}}]);
/*! For license information please see accounting_v2_tax_report.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6966],{8100:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,a,s,o){var i=a&&a.prototype instanceof c?a:c,u=Object.create(i.prototype);return n(u,"_invoke",function(r,a,s){var n,o,i,c=0,u=s||[],_=!1,v={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return n=e,o=0,i=t,v.n=r,l}};function f(r,a){for(o=r,i=a,e=0;!_&&c&&!s&&e<u.length;e++){var s,n=u[e],f=v.p,p=n[2];r>3?(s=p===a)&&(i=n[(o=n[4])?5:(o=3,3)],n[4]=n[5]=t):n[0]<=f&&((s=r<2&&f<n[1])?(o=0,v.v=a,v.n=n[1]):f<p&&(s=r<3||n[0]>a||a>p)&&(n[4]=r,n[5]=a,v.n=p,o=0))}if(s||r>1)return l;throw _=!0,a}return function(s,u,p){if(c>1)throw TypeError("Generator is already running");for(_&&1===u&&f(u,p),o=u,i=p;(e=o<2?t:i)||!_;){n||(o?o<3?(o>1&&(v.n=-1),f(o,i)):v.n=i:v.v=i);try{if(c=2,n){if(o||(s="next"),e=n[s]){if(!(e=e.call(n,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,o<2&&(o=0)}else 1===o&&(e=n.return)&&e.call(n),o<2&&(i=TypeError("The iterator does not provide a '"+s+"' method"),o=1);n=t}else if((e=(_=v.n<0)?i:r.call(a,v))!==l)break}catch(e){n=t,o=1,i=e}finally{c=1}}return{value:e,done:_}}}(r,s,o),!0),u}var l={};function c(){}function u(){}function _(){}e=Object.getPrototypeOf;var v=[][a]?e(e([][a]())):(n(e={},a,function(){return this}),e),f=_.prototype=c.prototype=Object.create(v);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,n(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=_,n(f,"constructor",_),n(_,"constructor",u),u.displayName="GeneratorFunction",n(_,o,"GeneratorFunction"),n(f),n(f,o,"Generator"),n(f,a,function(){return this}),n(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:p}})()}function n(t,e,r,a){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}n=function(t,e,r,a){function o(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?s?s(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},n(t,e,r,a)}function o(t,e,r,a,s,n,o){try{var i=t[n](o),l=i.value}catch(t){return void r(t)}i.done?e(l):Promise.resolve(l).then(a,s)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const c={name:"TaxReportV2",metaInfo:{title:"Tax Summary Report"},data:function(){return{data:{sales:0,sale_returns:0,taxable_sales:0,output_tax:0,purchases:0,purchase_returns:0,taxable_purchases:0,input_tax:0,net_tax:0},filters:{from:"",to:""},isLoading:!1,error:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},(0,r(95353).L8)(["currentUserPermissions","currentUser"])),created:function(){this.initializeDates(),this.fetch()},methods:{initializeDates:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);this.filters.from=e.toISOString().split("T")[0],this.filters.to=r.toISOString().split("T")[0]},fetch:function(){var t,e=this;return(t=s().m(function t(){var r,a,n,o;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,axios.get("/accounting/v2/reports/tax-summary",{params:e.filters});case 2:r=t.v,(a=r.data)&&(e.data={sales:parseFloat(a.sales||0),sale_returns:parseFloat(a.sale_returns||0),taxable_sales:parseFloat(a.taxable_sales||0),output_tax:parseFloat(a.output_tax||0),purchases:parseFloat(a.purchases||0),purchase_returns:parseFloat(a.purchase_returns||0),taxable_purchases:parseFloat(a.taxable_purchases||0),input_tax:parseFloat(a.input_tax||0),net_tax:parseFloat(a.net_tax||0)}),t.n=4;break;case 3:t.p=3,o=t.v,console.error("Tax Summary Error:",o),e.error=(null===(n=o.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||e.$t("Failed_Load_Tax_Summary"),e.$root.$bvToast.toast(e.error,{title:e.$t("Error"),variant:"danger",solid:!0});case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}),function(){var e=this,r=arguments;return new Promise(function(a,s){var n=t.apply(e,r);function i(t){o(n,a,s,i,l,"next",t)}function l(t){o(n,a,s,i,l,"throw",t)}i(void 0)})})()},toMoney:function(t){return parseFloat(t||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}}};const u=(0,r(14486).A)(c,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Tax_Summary_Report"),folder:t.$t("Reports")}}),t._v(" "),t.isLoading?e("div",{staticClass:"text-center py-5"},[t._m(0)]):t._e(),t._v(" "),t.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("i",{staticClass:"i-Close-Window"}),t._v(" "+t._s(t.error)+"\n  ")]):t._e(),t._v(" "),t.isLoading?t._e():[e("div",{staticClass:"card p-3 mb-3"},[e("div",{staticClass:"row align-items-end"},[e("div",{staticClass:"col-md-4 mb-2"},[e("label",{staticClass:"small text-muted mb-1"},[t._v(t._s(t.$t("From")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.from,expression:"filters.from"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filters.from},on:{change:t.fetch,input:function(e){e.target.composing||t.$set(t.filters,"from",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-4 mb-2"},[e("label",{staticClass:"small text-muted mb-1"},[t._v(t._s(t.$t("To")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.to,expression:"filters.to"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.filters.to},on:{change:t.fetch,input:function(e){e.target.composing||t.$set(t.filters,"to",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-4 mb-2 text-right"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:t.isLoading},on:{click:t.fetch}},[e("i",{staticClass:"i-Reload"}),t._v(" "+t._s(t.$t("Refresh"))+"\n          ")])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"card p-3 mb-3"},[e("h6",{staticClass:"mb-3 text-primary"},[t._v(t._s(t.$t("Sales_Tax"))+" ("+t._s(t.$t("Output_Tax"))+")")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-2 text-muted small"},[e("span",[t._v(t._s(t.$t("Total_Sales")))]),t._v(" "),e("span",[t._v(t._s(t.toMoney(t.data.sales)))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-2 text-muted small"},[e("span",[t._v(t._s(t.$t("Sale_Returns")))]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("- "+t._s(t.toMoney(t.data.sale_returns)))])]),t._v(" "),e("hr",{staticClass:"my-2"}),t._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-2"},[e("strong",[t._v(t._s(t.$t("Net_Sales")))]),t._v(" "),e("strong",[t._v(t._s(t.toMoney(t.data.taxable_sales)))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("strong",[t._v(t._s(t.$t("Output_Tax")))]),t._v(" "),e("strong",{staticClass:"text-success"},[t._v(t._s(t.toMoney(t.data.output_tax)))])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"card p-3 mb-3"},[e("h6",{staticClass:"mb-3 text-primary"},[t._v(t._s(t.$t("Purchase_Tax"))+" ("+t._s(t.$t("Input_Tax"))+")")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-2 text-muted small"},[e("span",[t._v(t._s(t.$t("Total_Purchases")))]),t._v(" "),e("span",[t._v(t._s(t.toMoney(t.data.purchases)))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-2 text-muted small"},[e("span",[t._v(t._s(t.$t("Purchase_Returns")))]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("- "+t._s(t.toMoney(t.data.purchase_returns)))])]),t._v(" "),e("hr",{staticClass:"my-2"}),t._v(" "),e("div",{staticClass:"d-flex justify-content-between mb-2"},[e("strong",[t._v(t._s(t.$t("Net_Purchases")))]),t._v(" "),e("strong",[t._v(t._s(t.toMoney(t.data.taxable_purchases)))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("strong",[t._v(t._s(t.$t("Input_Tax")))]),t._v(" "),e("strong",{staticClass:"text-info"},[t._v(t._s(t.toMoney(t.data.input_tax)))])])])])]),t._v(" "),e("div",{staticClass:"card p-3",class:t.data.net_tax>=0?"border-warning":"border-success"},[e("div",{staticClass:"d-flex justify-content-between"},[e("strong",[t._v(t._s(t.$t("Net_Tax")))]),t._v(" "),e("span",{class:t.data.net_tax>=0?"text-warning":"text-success"},[t._v("\n          "+t._s(t.toMoney(t.data.net_tax))+"\n        ")])]),t._v(" "),e("small",{staticClass:"text-muted mt-2 d-block"},[t._v("\n        "+t._s(t.data.net_tax>=0?t.$t("Tax_Payable"):t.$t("Tax_Refund"))+"\n      ")])])]],2)},[function(){var t=this._self._c;return t("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])}],!1,null,"55ce0b0b",null).exports}}]);
/*! For license information please see CustomerLedger.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6648],{4395:(t,e,a)=>{a.d(e,{A:()=>r});var n=a(76314),s=a.n(n)()(function(t){return t[1]});s.push([t.id,".soft-shadow[data-v-9e8858e8]{box-shadow:0 6px 18px rgba(0,0,0,.06)}.header-hero[data-v-9e8858e8]{background:linear-gradient(135deg,#6b8dfc,#88aafc);color:#fff}.avatar-circle[data-v-9e8858e8]{align-items:center;backdrop-filter:saturate(120%);background:hsla(0,0%,100%,.2);border-radius:50%;color:#fff;display:flex;font-size:20px;font-weight:700;height:56px;justify-content:center;width:56px}.kpi-card[data-v-9e8858e8]{background:#fff;border:1px solid #eef2f7;border-radius:14px;box-shadow:0 4px 16px rgba(17,24,39,.06);padding:14px 16px}.kpi-label[data-v-9e8858e8]{color:#6b7280;font-size:12px}.kpi-value[data-v-9e8858e8]{color:#111827;font-size:18px;font-weight:700;letter-spacing:.2px}.toolbar[data-v-9e8858e8]{align-items:center;display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.toolbar .form-control[data-v-9e8858e8]{min-width:260px}.pager[data-v-9e8858e8]{align-items:center;display:flex;justify-content:space-between;margin-top:10px}[data-v-9e8858e8] .table-modern thead th{background:#f8fafc;border-bottom:1px solid #e5e7eb;color:#374151;font-weight:600}[data-v-9e8858e8] .table-modern tbody tr:hover{background:#f9fbff}[data-v-9e8858e8] .table-modern td,[data-v-9e8858e8] .table-modern th{vertical-align:middle}[data-v-9e8858e8] .badge{font-weight:600;letter-spacing:.2px}",""]);const r=s},14626:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function s(){var t,e,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function o(a,n,s,i){var o=n&&n.prototype instanceof c?n:c,u=Object.create(o.prototype);return r(u,"_invoke",function(a,n,s){var r,i,o,c=0,u=s||[],d=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,a){return r=e,i=0,o=t,p.n=a,l}};function m(a,n){for(i=a,o=n,e=0;!d&&c&&!s&&e<u.length;e++){var s,r=u[e],m=p.p,f=r[2];a>3?(s=f===n)&&(o=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=t):r[0]<=m&&((s=a<2&&m<r[1])?(i=0,p.v=n,p.n=r[1]):m<f&&(s=a<3||r[0]>n||n>f)&&(r[4]=a,r[5]=n,p.n=f,i=0))}if(s||a>1)return l;throw d=!0,n}return function(s,u,f){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,f),i=u,o=f;(e=i<2?t:o)||!d;){r||(i?i<3?(i>1&&(p.n=-1),m(i,o)):p.n=o:p.v=o);try{if(c=2,r){if(i||(s="next"),e=r[s]){if(!(e=e.call(r,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,i<2&&(i=0)}else 1===i&&(e=r.return)&&e.call(r),i<2&&(o=TypeError("The iterator does not provide a '"+s+"' method"),i=1);r=t}else if((e=(d=p.n<0)?o:a.call(n,p))!==l)break}catch(e){r=t,i=1,o=e}finally{c=1}}return{value:e,done:d}}}(a,s,i),!0),u}var l={};function c(){}function u(){}function d(){}e=Object.getPrototypeOf;var p=[][n]?e(e([][n]())):(r(e={},n,function(){return this}),e),m=d.prototype=c.prototype=Object.create(p);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,r(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t}return u.prototype=d,r(m,"constructor",d),r(d,"constructor",u),u.displayName="GeneratorFunction",r(d,i,"GeneratorFunction"),r(m),r(m,i,"Generator"),r(m,n,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:f}})()}function r(t,e,a,n){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}r=function(t,e,a,n){function i(e,a){r(t,e,function(t){return this._invoke(e,a,t)})}e?s?s(t,e,{value:a,enumerable:!n,configurable:!n,writable:!n}):t[e]=a:(i("next",0),i("throw",1),i("return",2))},r(t,e,a,n)}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){l(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e,a,n,s,r,i){try{var o=t[r](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise(function(n,s){var r=t.apply(e,a);function i(t){c(r,n,s,i,o,"next",t)}function o(t){c(r,n,s,i,o,"throw",t)}i(void 0)})}}const d={name:"CustomerLedgerRefactored",components:{ListToolbar:{name:"ListToolbar",props:{placeholder:String,value:String,limit:Number,perPageOptions:{type:Array,default:function(){return[10,25,50,100].map(function(t){return{value:t,text:String(t)}})}}},model:{prop:"value",event:"input"},methods:{emitSearch:function(){this.$emit("search")},emitReset:function(){this.$emit("input",""),this.$emit("search"),this.$emit("reset")}},render:function(t){var e=this;return t("div",{class:"toolbar"},[t("b-form-input",{class:"mr-2",props:{value:this.value,placeholder:this.placeholder},on:{input:function(t){return e.$emit("input",t)},keyup:function(t){"Enter"===t.key&&e.emitSearch()}}}),t("b-button",{class:"mr-2 mt-2",props:{size:"sm",variant:"primary"},on:{click:this.emitSearch}},this.$parent.$t("Search")),t("b-button",{class:"mr-2 mt-2",props:{size:"sm",variant:"outline-secondary"},on:{click:this.emitReset}},this.$parent.$t("Reset")),t("div",{class:"ml-auto d-flex align-items-center"},[t("span",{class:"mr-2 small text-muted"},this.$parent.$t("Per_page")),t("b-form-select",{class:"w-auto",props:{value:this.limit,options:this.perPageOptions,size:"sm"},on:{input:function(t){return e.$emit("update:limit",t)}}})])])}},Pager:{name:"Pager",props:{page:Number,limit:Number,totalRows:Number},methods:{onInput:function(){this.$emit("change")}},render:function(t){var e=this,a=Math.max(1,Math.ceil((this.totalRows||0)/(this.limit||10)));return t("div",{class:"pager"},[t("small",{class:"text-muted"},"".concat(this.$parent.$t("Page")," ").concat(this.page," ").concat(this.$parent.$t("Of")," ").concat(a)),t("b-pagination",{props:{value:this.page,totalRows:this.totalRows,perPage:this.limit,size:"sm",align:"right"},on:{input:function(t){e.$emit("update:page",t),e.onInput()}}})])}}},props:{id:[String,Number]},metaInfo:function(){return{title:this.$t("Customer_Ledger")}},data:function(){return{pageLoading:!1,exportingPdf:!1,activeTab:0,client:{id:null,name:"",email:"",phone:"",code:"",adresse:"",country:"",city:"",tax_number:"",salesGrand:0,salesPaid:0,sale_due:0,paymentsTotal:0,return_due:0},sales:{loading:!1,items:[],totalRows:0,page:1,limit:10,search:"",totals:{},pageTotal:0},payments:{loading:!1,items:[],totalRows:0,page:1,limit:10,search:"",totals:{},pageTotal:0},quotations:{loading:!1,items:[],totalRows:0,page:1,limit:10,search:"",totals:{},pageTotal:0},returns:{loading:!1,items:[],totalRows:0,page:1,limit:10,search:"",totals:{},pageTotal:0},_timers:{sales:null,payments:null,quotations:null,returns:null},perPageOptions:[{value:10,text:"10"},{value:25,text:"25"},{value:50,text:"50"},{value:100,text:"100"}],salesFields:[{key:"date",label:this.$t("Date")},{key:"Ref",label:this.$t("Sale_Ref")},{key:"warehouse_name",label:this.$t("Warehouse")},{key:"statut",label:this.$t("Status")},{key:"GrandTotal",label:this.$t("Grand_Total"),class:"text-right"},{key:"paid_amount",label:this.$t("Paid"),class:"text-right"},{key:"due",label:this.$t("Due"),class:"text-right"},{key:"payment_status",label:this.$t("Payment_Status")},{key:"shipping_status",label:this.$t("Shipping_Status")}],paymentsFields:[{key:"date",label:this.$t("Date")},{key:"Ref",label:this.$t("Payment_Ref")},{key:"Sale_Ref",label:this.$t("Sale_Ref")},{key:"payment_method",label:this.$t("Method")},{key:"montant",label:this.$t("Amount"),class:"text-right"}],quotationsFields:[{key:"date",label:this.$t("Date")},{key:"Ref",label:this.$t("Quotation_Ref")},{key:"warehouse_name",label:this.$t("Warehouse")},{key:"statut",label:this.$t("Status")},{key:"GrandTotal",label:this.$t("Grand_Total"),class:"text-right"}],returnsFields:[{key:"Ref",label:this.$t("Return_Ref")},{key:"statut",label:this.$t("Status")},{key:"client_name",label:this.$t("Customer")},{key:"sale_ref",label:this.$t("Sale_Ref")},{key:"warehouse_name",label:this.$t("Warehouse")},{key:"GrandTotal",label:this.$t("Grand_Total"),class:"text-right"},{key:"paid_amount",label:this.$t("Paid"),class:"text-right"},{key:"due",label:this.$t("Due"),class:"text-right"},{key:"payment_status",label:this.$t("Payment_Status")}]}},computed:{clientInitials:function(){var t,e=(this.client.name||"").trim();if(!e)return"C";var a=e.split(" ").filter(Boolean);return(((null===(t=a[0])||void 0===t?void 0:t[0])||"")+(a.length>1?a[a.length-1][0]:"")).toUpperCase()||"C"},stats:function(){return{salesGrand:this.client.salesGrand||0,salesPaid:this.client.salesPaid||0,salesDue:this.client.sale_due||0,returnsDue:this.client.return_due||0,paymentsTotal:this.client.paymentsTotal||0}}},watch:{"sales.limit":function(t){this.sales.page=1,this.fetchSales()},"payments.limit":function(t){this.payments.page=1,this.fetchPayments()},"quotations.limit":function(t){this.quotations.page=1,this.fetchQuotations()},"returns.limit":function(t){this.returns.page=1,this.fetchReturns()},"sales.search":function(t){this._debounce("sales",this.fetchSales)},"payments.search":function(t){this._debounce("payments",this.fetchPayments)},"quotations.search":function(t){this._debounce("quotations",this.fetchQuotations)},"returns.search":function(t){this._debounce("returns",this.fetchReturns)}},created:function(){var t=this;this.pageLoading=!0,this.fetchClientBrief().then(function(){return Promise.all([t.fetchSales(),t.fetchPayments(),t.fetchQuotations(),t.fetchReturns()])}).finally(function(){t.pageLoading=!1})},methods:{money:function(t){return Number(t||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},paymentBadge:function(t){var e=String(t||"").toLowerCase().trim();return e.includes("unpaid")?"danger":e.includes("partial")?"warning":e.includes("paid")?"success":"secondary"},docStatusBadge:function(t){var e=String(t||"").toLowerCase();return e.includes("completed")||e.includes("approved")?"success":e.includes("pending")?"warning":e.includes("sent")?"info":e.includes("canceled")||e.includes("cancelled")||e.includes("rejected")?"danger":"secondary"},_debounce:function(t,e){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;clearTimeout(this._timers[t]),this._timers[t]=setTimeout(function(){return e.call(a)},n)},fetchClientBrief:function(){var t=this;return u(s().m(function e(){var a,n;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,axios.get("/clients/".concat(t.id,"/brief"));case 1:a=e.v,n=a.data,t.client=o(o({},t.client),n||{}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))()},_fetchList:function(t,e){var a=arguments,n=this;return u(s().m(function r(){var i,l,c;return s().w(function(s){for(;;)switch(s.p=s.n){case 0:return i=a.length>2&&void 0!==a[2]?a[2]:{},e.loading=!0,s.p=1,s.n=2,axios.get(t,{params:o({id:n.id,limit:e.limit,page:e.page,search:e.search},i)});case 2:return l=s.v,c=l.data,s.a(2,c);case 3:return s.p=3,e.loading=!1,s.f(3);case 4:return s.a(2)}},r,null,[[1,,3,4]])}))()},fetchSales:function(){var t=this;return u(s().m(function e(){var a,n,r,i,o,l;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._fetchList("/sales_client",t.sales);case 1:for(a=e.v,n=Array.isArray(null==a?void 0:a.sales)?a.sales:[],t.sales.items=n,t.sales.totalRows=Number((null==a?void 0:a.totalRows)||0),r=0,i=0,o=0,l=0;l<n.length;l++)r+=Number(n[l].GrandTotal||0),i+=Number(n[l].paid_amount||0),o+=Number(n[l].due||0);t.sales.totals={grand:r,paid:i,due:o},!t.client.name&&n.length&&(t.client.name=n[0].client_name||t.client.name);case 2:return e.a(2)}},e)}))()},resetSales:function(){this.sales.search="",this.sales.page=1,this.fetchSales()},fetchPayments:function(){var t=this;return u(s().m(function e(){var a,n;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._fetchList("/payments_client",t.payments);case 1:a=e.v,n=Array.isArray(null==a?void 0:a.payments)?a.payments:[],t.payments.items=n,t.payments.totalRows=Number((null==a?void 0:a.totalRows)||0),t.payments.pageTotal=n.reduce(function(t,e){return t+Number(e.montant||0)},0);case 2:return e.a(2)}},e)}))()},resetPayments:function(){this.payments.search="",this.payments.page=1,this.fetchPayments()},fetchQuotations:function(){var t=this;return u(s().m(function e(){var a,n;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._fetchList("/quotations_client",t.quotations);case 1:a=e.v,n=Array.isArray(null==a?void 0:a.quotations)?a.quotations:[],t.quotations.items=n,t.quotations.totalRows=Number((null==a?void 0:a.totalRows)||0),t.quotations.pageGrand=n.reduce(function(t,e){return t+Number(e.GrandTotal||0)},0);case 2:return e.a(2)}},e)}))()},resetQuotations:function(){this.quotations.search="",this.quotations.page=1,this.fetchQuotations()},fetchReturns:function(){var t=this;return u(s().m(function e(){var a,n,r,i,o,l;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t._fetchList("/returns_client",t.returns);case 1:for(a=e.v,n=Array.isArray(null==a?void 0:a.returns_customer)?a.returns_customer:[],t.returns.items=n,t.returns.totalRows=Number((null==a?void 0:a.totalRows)||0),r=0,i=0,o=0,l=0;l<n.length;l++)r+=Number(n[l].GrandTotal||0),i+=Number(n[l].paid_amount||0),o+=Number(n[l].due||0);t.returns.totals={grand:r,paid:i,due:o};case 2:return e.a(2)}},e)}))()},resetReturns:function(){this.returns.search="",this.returns.page=1,this.fetchReturns()},exportPdf:function(){var t=this;return u(s().m(function e(){var a,n,r,i,o;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.exportingPdf=!0,e.p=1,e.n=2,axios.get("/client_ledger_pdf",{params:{id:t.id},responseType:"arraybuffer",headers:{Accept:"application/pdf"}});case 2:a=e.v,n=new Blob([a.data],{type:"application/pdf"}),r=window.URL.createObjectURL(n),(i=document.createElement("a")).href=r,i.download="customer_ledger_".concat(t.id,".pdf"),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(r),e.n=4;break;case 3:e.p=3,e.v,o=t.$t&&"Failed_to_export"!==t.$t("Failed_to_export")?t.$t("Failed_to_export"):"Failed to export PDF",t.$bvToast?t.$bvToast.toast(o,{title:t.$t?t.$t("Error"):"Error",variant:"danger",solid:!0}):alert(o);case 4:return e.p=4,t.exportingPdf=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()}}};var p=a(85072),m=a.n(p),f=a(4395),h={insert:"head",singleton:!1};m()(f.A,h);f.A.locals;const v=(0,a(14486).A)(d,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Customer_Ledger"),folder:t.$t("Customers")}}),t._v(" "),e("b-card",{staticClass:"mb-3 p-0 overflow-hidden soft-shadow"},[e("div",{staticClass:"header-hero d-flex align-items-center p-3"},[e("div",{staticClass:"avatar-circle mr-3"},[e("span",[t._v(t._s(t.clientInitials))])]),t._v(" "),e("div",{staticClass:"flex-grow-1"},[e("h4",{staticClass:"mb-1"},[t._v(t._s(t.client.name||"-"))]),t._v(" "),e("div",{staticClass:"text-light small"},[e("span",{staticClass:"mr-3"},[t._v(t._s(t.$t("Code"))+": "),e("b",[t._v(t._s(t.client.code||"-"))])]),t._v(" "),e("span",{staticClass:"mr-3"},[t._v(t._s(t.$t("City"))+": "),e("b",[t._v(t._s(t.client.city||"-"))])]),t._v(" "),e("span",{staticClass:"mr-3"},[t._v(t._s(t.$t("Country"))+": "),e("b",[t._v(t._s(t.client.country||"-"))])]),t._v(" "),e("span",{staticClass:"mr-3"},[t._v(t._s(t.$t("Tax_Number"))+": "),e("b",[t._v(t._s(t.client.tax_number||"-"))])])])]),t._v(" "),e("div",{staticClass:"text-right"},[e("div",{staticClass:"text-white small mb-1"},[e("i",{staticClass:"i-Mail mr-1"}),t._v(t._s(t.client.email||"-")+"  | \n          "),e("i",{staticClass:"i-Telephone mr-1"}),t._v(t._s(t.client.phone||"-")+"\n        ")]),t._v(" "),e("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"light"},on:{click:function(e){return t.$router.push({name:"Customers"})}}},[e("i",{staticClass:"i-Left mr-1"}),t._v(" "+t._s(t.$t("Back"))+"\n        ")]),t._v(" "),e("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"primary",disabled:t.exportingPdf},on:{click:t.exportPdf}},[e("i",{staticClass:"i-File-Download mr-1"}),t._v(" "),t.exportingPdf?e("span",[t._v(t._s(t.$t("Generating")))]):e("span",[t._v(t._s(t.$t("Download_PDF")))])])],1)]),t._v(" "),e("div",{staticClass:"p-3"},[e("b-row",[e("b-col",{staticClass:"mb-2",attrs:{md:"3"}},[e("div",{staticClass:"kpi-card"},[e("div",{staticClass:"kpi-label"},[t._v(t._s(t.$t("Sales_Grand")))]),t._v(" "),e("div",{staticClass:"kpi-value"},[t._v(t._s(t.money(t.stats.salesGrand)))])])]),t._v(" "),e("b-col",{staticClass:"mb-2",attrs:{md:"3"}},[e("div",{staticClass:"kpi-card"},[e("div",{staticClass:"kpi-label"},[t._v(t._s(t.$t("Sales_Paid")))]),t._v(" "),e("div",{staticClass:"kpi-value"},[t._v(t._s(t.money(t.stats.salesPaid)))])])]),t._v(" "),e("b-col",{staticClass:"mb-2",attrs:{md:"3"}},[e("div",{staticClass:"kpi-card"},[e("div",{staticClass:"kpi-label"},[t._v(t._s(t.$t("Sales_Due")))]),t._v(" "),e("div",{staticClass:"kpi-value"},[t._v(t._s(t.money(t.stats.salesDue)))])])]),t._v(" "),e("b-col",{staticClass:"mb-2",attrs:{md:"3"}},[e("div",{staticClass:"kpi-card"},[e("div",{staticClass:"kpi-label"},[t._v(t._s(t.$t("Returns_Due")))]),t._v(" "),e("div",{staticClass:"kpi-value text-warning"},[t._v(t._s(t.money(t.stats.returnsDue)))])])]),t._v(" "),e("b-col",{staticClass:"mb-2",attrs:{md:"3"}},[e("div",{staticClass:"kpi-card"},[e("div",{staticClass:"kpi-label"},[t._v(t._s(t.$t("Payments_Total")))]),t._v(" "),e("div",{staticClass:"kpi-value"},[t._v(t._s(t.money(t.stats.paymentsTotal)))])])])],1)],1)]),t._v(" "),t.pageLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e("div",[e("b-card",{staticClass:"soft-shadow"},[e("b-tabs",{attrs:{lazy:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("b-tab",{attrs:{title:t.$t("Sales")}},[e("ListToolbar",{attrs:{placeholder:t.$t("Search_sales_ph"),limit:t.sales.limit,"per-page-options":t.perPageOptions},on:{"update:limit":function(e){return t.$set(t.sales,"limit",e)},search:t.fetchSales,reset:t.resetSales},model:{value:t.sales.search,callback:function(e){t.$set(t.sales,"search",e)},expression:"sales.search"}}),t._v(" "),e("div",{staticClass:"mb-2 small text-muted"},[t._v("\n            "+t._s(t.$t("Page_totals"))+" —\n            "+t._s(t.$t("Grand"))+": "),e("b",[t._v(t._s(t.money(t.sales.totals.grand)))]),t._v(",\n            "+t._s(t.$t("Paid"))+": "),e("b",[t._v(t._s(t.money(t.sales.totals.paid)))]),t._v(",\n            "+t._s(t.$t("Due"))+": "),e("b",[t._v(t._s(t.money(t.sales.totals.due)))])]),t._v(" "),t.sales.loading?e("div",{staticClass:"text-center p-3"},[e("b-spinner")],1):e("b-table",{staticClass:"table-modern",attrs:{items:t.sales.items,fields:t.salesFields,striped:"",hover:"",responsive:"",small:"","head-variant":"light"},scopedSlots:t._u([{key:"cell(GrandTotal)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.GrandTotal)))]}},{key:"cell(paid_amount)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.paid_amount)))]}},{key:"cell(due)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.due)))]}},{key:"cell(payment_status)",fn:function(a){var n=a.item;return[e("b-badge",{attrs:{variant:t.paymentBadge(n.payment_status)}},[t._v(t._s(n.payment_status))])]}},{key:"cell(statut)",fn:function(a){var n=a.item;return[e("b-badge",{attrs:{variant:t.docStatusBadge(n.statut)}},[t._v(t._s(n.statut))])]}}])}),t._v(" "),e("Pager",{attrs:{page:t.sales.page,limit:t.sales.limit,"total-rows":t.sales.totalRows},on:{"update:page":function(e){return t.$set(t.sales,"page",e)},change:t.fetchSales}})],1),t._v(" "),e("b-tab",{attrs:{title:t.$t("Payments")}},[e("ListToolbar",{attrs:{placeholder:t.$t("Search_payments_ph"),limit:t.payments.limit,"per-page-options":t.perPageOptions},on:{"update:limit":function(e){return t.$set(t.payments,"limit",e)},search:t.fetchPayments,reset:t.resetPayments},model:{value:t.payments.search,callback:function(e){t.$set(t.payments,"search",e)},expression:"payments.search"}}),t._v(" "),e("div",{staticClass:"mb-2 small text-muted"},[t._v("\n            "+t._s(t.$t("Page_total"))+" — "+t._s(t.$t("Payments"))+": "),e("b",[t._v(t._s(t.money(t.payments.pageTotal)))])]),t._v(" "),t.payments.loading?e("div",{staticClass:"text-center p-3"},[e("b-spinner")],1):e("b-table",{staticClass:"table-modern",attrs:{items:t.payments.items,fields:t.paymentsFields,striped:"",hover:"",responsive:"",small:"","head-variant":"light"},scopedSlots:t._u([{key:"cell(montant)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.montant)))]}}])}),t._v(" "),e("Pager",{attrs:{page:t.payments.page,limit:t.payments.limit,"total-rows":t.payments.totalRows},on:{"update:page":function(e){return t.$set(t.payments,"page",e)},change:t.fetchPayments}})],1),t._v(" "),e("b-tab",{attrs:{title:t.$t("Quotations")}},[e("ListToolbar",{attrs:{placeholder:t.$t("Search_quotations_ph"),limit:t.quotations.limit,"per-page-options":t.perPageOptions},on:{"update:limit":function(e){return t.$set(t.quotations,"limit",e)},search:t.fetchQuotations,reset:t.resetQuotations},model:{value:t.quotations.search,callback:function(e){t.$set(t.quotations,"search",e)},expression:"quotations.search"}}),t._v(" "),e("div",{staticClass:"mb-2 small text-muted"},[t._v("\n            "+t._s(t.$t("Page_total"))+" — "+t._s(t.$t("Grand"))+": "),e("b",[t._v(t._s(t.money(t.quotations.pageGrand)))])]),t._v(" "),t.quotations.loading?e("div",{staticClass:"text-center p-3"},[e("b-spinner")],1):e("b-table",{staticClass:"table-modern",attrs:{items:t.quotations.items,fields:t.quotationsFields,striped:"",hover:"",responsive:"",small:"","head-variant":"light"},scopedSlots:t._u([{key:"cell(GrandTotal)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.GrandTotal)))]}},{key:"cell(statut)",fn:function(a){var n=a.item;return[e("b-badge",{attrs:{variant:t.docStatusBadge(n.statut)}},[t._v(t._s(n.statut))])]}}])}),t._v(" "),e("Pager",{attrs:{page:t.quotations.page,limit:t.quotations.limit,"total-rows":t.quotations.totalRows},on:{"update:page":function(e){return t.$set(t.quotations,"page",e)},change:t.fetchQuotations}})],1),t._v(" "),e("b-tab",{attrs:{title:t.$t("Returns")}},[e("ListToolbar",{attrs:{placeholder:t.$t("Search_returns_ph"),limit:t.returns.limit,"per-page-options":t.perPageOptions},on:{"update:limit":function(e){return t.$set(t.returns,"limit",e)},search:t.fetchReturns,reset:t.resetReturns},model:{value:t.returns.search,callback:function(e){t.$set(t.returns,"search",e)},expression:"returns.search"}}),t._v(" "),e("div",{staticClass:"mb-2 small text-muted"},[t._v("\n            "+t._s(t.$t("Page_totals"))+" —\n            "+t._s(t.$t("Grand"))+": "),e("b",[t._v(t._s(t.money(t.returns.totals.grand)))]),t._v(",\n            "+t._s(t.$t("Paid"))+": "),e("b",[t._v(t._s(t.money(t.returns.totals.paid)))]),t._v(",\n            "+t._s(t.$t("Due"))+": "),e("b",[t._v(t._s(t.money(t.returns.totals.due)))])]),t._v(" "),t.returns.loading?e("div",{staticClass:"text-center p-3"},[e("b-spinner")],1):e("b-table",{staticClass:"table-modern",attrs:{items:t.returns.items,fields:t.returnsFields,striped:"",hover:"",responsive:"",small:"","head-variant":"light"},scopedSlots:t._u([{key:"cell(GrandTotal)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.GrandTotal)))]}},{key:"cell(paid_amount)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.paid_amount)))]}},{key:"cell(due)",fn:function(e){var a=e.item;return[t._v(t._s(t.money(a.due)))]}},{key:"cell(payment_status)",fn:function(a){var n=a.item;return[e("b-badge",{attrs:{variant:t.paymentBadge(n.payment_status)}},[t._v(t._s(n.payment_status))])]}},{key:"cell(statut)",fn:function(a){var n=a.item;return[e("b-badge",{attrs:{variant:t.docStatusBadge(n.statut)}},[t._v(t._s(n.statut))])]}}])}),t._v(" "),e("Pager",{attrs:{page:t.returns.page,limit:t.returns.limit,"total-rows":t.returns.totalRows},on:{"update:page":function(e){return t.$set(t.returns,"page",e)},change:t.fetchReturns}})],1)],1)],1)],1)],1)},[],!1,null,"9e8858e8",null).exports},76314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=t(e);return e[2]?"@media ".concat(e[2]," {").concat(a,"}"):a}).join("")},e.i=function(t,a,n){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(n)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(s[i]=!0)}for(var o=0;o<t.length;o++){var l=[].concat(t[o]);n&&s[l[0]]||(a&&(l[2]?l[2]="".concat(a," and ").concat(l[2]):l[2]=a),e.push(l))}},e}},85072:(t,e,a)=>{var n,s=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}t[e]=a}return t[e]}}(),i=[];function o(t){for(var e=-1,a=0;a<i.length;a++)if(i[a].identifier===t){e=a;break}return e}function l(t,e){for(var a={},n=[],s=0;s<t.length;s++){var r=t[s],l=e.base?r[0]+e.base:r[0],c=a[l]||0,u="".concat(l," ").concat(c);a[l]=c+1;var d=o(u),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:u,updater:v(p,e),references:1}),n.push(u)}return n}function c(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var s=a.nc;s&&(n.nonce=s)}if(Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])}),"function"==typeof t.insert)t.insert(e);else{var i=r(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,a,n){var s=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=d(e,s);else{var r=document.createTextNode(s),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function m(t,e,a){var n=a.css,s=a.media,r=a.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f=null,h=0;function v(t,e){var a,n,s;if(e.singleton){var r=h++;a=f||(f=c(e)),n=p.bind(null,a,r,!1),s=p.bind(null,a,r,!0)}else a=c(e),n=m.bind(null,a,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=s());var a=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<a.length;n++){var s=o(a[n]);i[s].references--}for(var r=l(t,e),c=0;c<a.length;c++){var u=o(a[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}a=r}}}}}]);
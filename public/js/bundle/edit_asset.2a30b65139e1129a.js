/*! For license information please see edit_asset.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7226],{27155:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});function a(){var t,e,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,a,s,o){var i=a&&a.prototype instanceof c?a:c,l=Object.create(i.prototype);return n(l,"_invoke",function(r,a,n){var s,o,i,c=0,l=n||[],f=!1,d={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,r){return s=e,o=0,i=t,d.n=r,u}};function m(r,a){for(o=r,i=a,e=0;!f&&c&&!n&&e<l.length;e++){var n,s=l[e],m=d.p,p=s[2];r>3?(n=p===a)&&(i=s[(o=s[4])?5:(o=3,3)],s[4]=s[5]=t):s[0]<=m&&((n=r<2&&m<s[1])?(o=0,d.v=a,d.n=s[1]):m<p&&(n=r<3||s[0]>a||a>p)&&(s[4]=r,s[5]=a,d.n=p,o=0))}if(n||r>1)return u;throw f=!0,a}return function(n,l,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),o=l,i=p;(e=o<2?t:i)||!f;){s||(o?o<3?(o>1&&(d.n=-1),m(o,i)):d.n=i:d.v=i);try{if(c=2,s){if(o||(n="next"),e=s[n]){if(!(e=e.call(s,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,o<2&&(o=0)}else 1===o&&(e=s.return)&&e.call(s),o<2&&(i=TypeError("The iterator does not provide a '"+n+"' method"),o=1);s=t}else if((e=(f=d.n<0)?i:r.call(a,d))!==u)break}catch(e){s=t,o=1,i=e}finally{c=1}}return{value:e,done:f}}}(r,s,o),!0),l}var u={};function c(){}function l(){}function f(){}e=Object.getPrototypeOf;var d=[][s]?e(e([][s]())):(n(e={},s,function(){return this}),e),m=f.prototype=c.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,n(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=f,n(m,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,o,"GeneratorFunction"),n(m),n(m,o,"Generator"),n(m,s,function(){return this}),n(m,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:p}})()}function n(t,e,r,a){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}n=function(t,e,r,a){function o(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?s?s(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},n(t,e,r,a)}function s(t,e,r,a,n,s,o){try{var i=t[s](o),u=i.value}catch(t){return void r(t)}i.done?e(u):Promise.resolve(u).then(a,n)}function o(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(t){s(o,a,n,i,u,"next",t)}function u(t){s(o,a,n,i,u,"throw",t)}i(void 0)})}}const i={name:"AssetEdit",data:function(){return{isLoading:!0,SubmitProcessing:!1,form:{tag:"",name:"",asset_category_id:null,serial_number:"",description:"",purchase_date:"",purchase_cost:null,status:"in_use",warehouse_id:null},categories:[],warehouses:[],statusOptions:[{value:"in_use",text:this.$t("In_Use")},{value:"maintenance",text:this.$t("Maintenance")},{value:"retired",text:this.$t("Retired")}]}},mounted:function(){this.fetch()},methods:{fetch:function(){var t=this;return o(a().m(function e(){var r,n,s;return a().w(function(e){for(;;)switch(e.n){case 0:return r=t.$route.params.id,e.n=1,axios.get("assets/".concat(r,"/edit"));case 1:n=e.v,s=n.data,t.categories=s.asset_categories||[],t.warehouses=s.warehouses||[],s.asset&&Object.assign(t.form,s.asset),t.isLoading=!1;case 2:return e.a(2)}},e)}))()},updateAsset:function(){var t=this;return o(a().m(function e(){var r,n;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=t.$route.params.id,e.n=1,t.$refs.edit_asset.validate();case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return t.SubmitProcessing=!0,e.p=3,e.n=4,axios.put("assets/".concat(r),t.form);case 4:t.$router.push("/app/assets/list"),e.n=6;break;case 5:throw e.p=5,n=e.v,t.SubmitProcessing=!1,n;case 6:return e.a(2)}},e,null,[[3,5]])}))()}}};const u=(0,r(14486).A)(i,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Edit_Asset"),folder:t.$t("Assets")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e("div",[e("div",{staticClass:"form-container"},[e("validation-observer",{ref:"edit_asset"},[e("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateAsset.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:t.$t("Tag")}},[e("validation-provider",{attrs:{name:"tag",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var a=r.errors;return[e("b-form-input",{attrs:{state:!a.length},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}}),t._v(" "),e("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:t.$t("Name")}},[e("validation-provider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var a=r.errors;return[e("b-form-input",{attrs:{state:!a.length},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),e("small",{staticClass:"text-danger"},[t._v(t._s(a[0]))])]}}])})],1)],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("validation-provider",{attrs:{name:"asset_category_id",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var a=r.valid,n=r.errors;return[e("b-form-group",{attrs:{label:t.$t("Category")+" *"}},[e("v-select",{class:{"is-invalid":!!n.length},attrs:{state:!n[0]&&(!!a||null),reduce:function(t){return t.value},placeholder:t.$t("Choose_Category"),options:t.categories.map(function(t){return{label:t.name,value:t.id}})},model:{value:t.form.asset_category_id,callback:function(e){t.$set(t.form,"asset_category_id",e)},expression:"form.asset_category_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(n[0]))])],1)]}}])})],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:t.$t("Serial")}},[e("b-form-input",{model:{value:t.form.serial_number,callback:function(e){t.$set(t.form,"serial_number",e)},expression:"form.serial_number"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:t.$t("Purchase_Date")}},[e("b-form-input",{attrs:{type:"date"},model:{value:t.form.purchase_date,callback:function(e){t.$set(t.form,"purchase_date",e)},expression:"form.purchase_date"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:t.$t("Purchase_Cost")}},[e("b-form-input",{attrs:{type:"text",step:"0.01"},model:{value:t.form.purchase_cost,callback:function(e){t.$set(t.form,"purchase_cost",t._n(e))},expression:"form.purchase_cost"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:t.$t("Status")}},[e("b-form-select",{attrs:{options:t.statusOptions},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),e("b-col",{attrs:{md:"6"}},[e("validation-provider",{attrs:{name:"warehouse_id",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){var a=r.valid,n=r.errors;return[e("b-form-group",{attrs:{label:t.$t("Warehouse")+" *"}},[e("v-select",{class:{"is-invalid":!!n.length},attrs:{state:!n[0]&&(!!a||null),reduce:function(t){return t.value},placeholder:t.$t("Select_Warehouse"),options:t.warehouses.map(function(t){return{label:t.name,value:t.id}})},model:{value:t.form.warehouse_id,callback:function(e){t.$set(t.form,"warehouse_id",e)},expression:"form.warehouse_id"}}),t._v(" "),e("b-form-invalid-feedback",[t._v(t._s(n[0]))])],1)]}}])})],1),t._v(" "),e("b-col",{attrs:{md:"12"}},[e("b-form-group",{attrs:{label:t.$t("Description")}},[e("b-form-textarea",{attrs:{rows:"3"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1),t._v(" "),e("div",[e("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.SubmitProcessing}},[t.SubmitProcessing?e("span",[e("span",{staticClass:"spinner sm spinner-primary align-middle mr-2"}),t._v("\n                "+t._s(t.$t("Processing"))+"\n              ")]):e("span",[t._v(t._s(t.$t("Update")))])]),t._v(" "),e("router-link",{staticClass:"btn btn-outline-secondary ml-2",attrs:{to:"/app/assets/list"}},[t._v(t._s(t.$t("Cancel")))])],1)],1)],1)],1)])],1)},[],!1,null,null,null).exports}}]);
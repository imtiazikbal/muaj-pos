/*! For license information please see StoreBanners.2a30b65139e1129a.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4327],{8433:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});function r(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(n,r,a,i){var s=r&&r.prototype instanceof l?r:l,u=Object.create(s.prototype);return o(u,"_invoke",function(n,r,o){var a,i,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,i=0,s=t,f.n=n,c}};function p(n,r){for(i=n,s=r,e=0;!d&&l&&!o&&e<u.length;e++){var o,a=u[e],p=f.p,v=a[2];n>3?(o=v===r)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,f.n=v,i=0))}if(o||n>1)return c;throw d=!0,r}return function(o,u,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,v),i=u,s=v;(e=i<2?t:s)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,s)):f.n=s:f.v=s);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==c)break}catch(e){a=t,i=1,s=e}finally{l=1}}return{value:e,done:d}}}(n,a,i),!0),u}var c={};function l(){}function u(){}function d(){}e=Object.getPrototypeOf;var f=[][a]?e(e([][a]())):(o(e={},a,function(){return this}),e),p=d.prototype=l.prototype=Object.create(f);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=d,o(p,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(p),o(p,i,"Generator"),o(p,a,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:s,m:v}})()}function o(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}o=function(t,e,n,r){function i(e,n){o(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},o(t,e,n,r)}function a(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const i={metaInfo:{title:"Store Banners"},data:function(){return{isLoading:!0,rows:[],totalRows:0,columns:[{label:this.$t("Preview"),field:"preview"},{label:this.$t("Title"),field:"title",sortable:!0},{label:this.$t("Position"),field:"position",sortable:!0},{label:this.$t("Active"),field:"active",sortable:!0},{label:this.$t("Updated"),field:"updated_at",sortable:!0},{label:this.$t("Actions"),field:"actions"}],serverParams:{page:1,perPage:10,sort:[{field:"updated_at",type:"desc"}]}}},mounted:function(){this.fetch()},methods:{fetch:function(){var t,e=this;return(t=r().m(function t(){var n,o,a,i,s;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,t.p=1,t.n=2,axios.get("/store/banners",{params:{page:e.serverParams.page,per_page:e.serverParams.perPage,sort:null===(n=e.serverParams.sort)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.field,dir:null===(o=e.serverParams.sort)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.type}});case 2:i=t.v,s=i.data,e.rows=s.data||[],e.totalRows=(null===(a=s.meta)||void 0===a?void 0:a.total)||e.rows.length;case 3:return t.p=3,e.isLoading=!1,t.f(3);case 4:return t.a(2)}},t,null,[[1,,3,4]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)})})()},onPageChange:function(t){var e=t.currentPage;this.serverParams.page=e,this.fetch()},onPerPageChange:function(t){var e=t.currentPerPage;this.serverParams.perPage=e,this.fetch()},onSortChange:function(t){this.serverParams.sort=t[0]?[t[0]]:[],this.fetch()},remove:function(t){var e=this;e.$swal({title:e.$t("Delete_Title"),text:e.$t("Delete_Text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:e.$t("Delete_cancelButtonText"),confirmButtonText:e.$t("Delete_confirmButtonText")}).then(function(n){!(!n||!0!==n.value&&!0!==n.isConfirmed)&&axios.delete("/store/banners/"+t).then(function(){e.$swal(e.$t("Delete_Deleted"),e.$t("Deleted_in_successfully"),"success"),e.fetch()}).catch(function(t){var n=t&&t.response&&t.response.data&&(t.response.data.message||t.response.data.error)||e.$t("Delete_Therewassomethingwronge");e.$swal(e.$t("Delete_Failed"),n,"warning")})})}}};const s=(0,n(14486).A)(i,function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("breadcumb",{attrs:{page:t.$t("Banners"),folder:t.$t("Store")}}),t._v(" "),t.isLoading?e("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):e("b-card",{staticClass:"wrapper"},[e("vue-good-table",{attrs:{mode:"remote",columns:t.columns,totalRows:t.totalRows,rows:t.rows,"pagination-options":{enabled:!0,perPage:t.serverParams.perPage},"search-options":{enabled:!1},styleClass:"table-hover tableOne vgt-table"},on:{"on-page-change":t.onPageChange,"on-per-page-change":t.onPerPageChange,"on-sort-change":t.onSortChange},scopedSlots:t._u([{key:"table-row",fn:function(n){return["preview"===n.column.field?e("span",[e("img",{attrs:{src:n.row.image_url,height:"32"}})]):"active"===n.column.field?e("span",[e("b-badge",{attrs:{variant:n.row.active?"success":"secondary"}},[t._v(t._s(n.row.active?t.$t("Active"):t.$t("Disabled")))])],1):"actions"===n.column.field?e("span",[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("Edit")},on:{click:function(e){return t.$router.push({name:"StoreBannerEdit",params:{id:n.row.id}})}}},[e("i",{staticClass:"i-Edit text-20 text-info"})]),t._v(" "),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{title:t.$t("Delete")},on:{click:function(e){return t.remove(n.row.id)}}},[e("i",{staticClass:"i-Close-Window text-20 text-danger"})])]):e("span",[t._v(t._s(n.formattedRow[n.column.field]))])]}}])},[e("div",{staticClass:"mt-2 mb-3",attrs:{slot:"table-actions"},slot:"table-actions"},[e("b-button",{staticClass:"btn-rounded",attrs:{size:"sm",variant:"btn btn-primary btn-icon m-1"},on:{click:function(e){return t.$router.push({name:"StoreBannerEdit",params:{id:"new"}})}}},[e("i",{staticClass:"i-Add"}),t._v(" "+t._s(t.$t("Add"))+"\n          ")])],1)])],1)],1)},[],!1,null,null,null).exports}}]);